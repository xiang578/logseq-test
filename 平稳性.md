---
public: true
title: 平稳性
tags:
  - 时间序列预测
  - Algorithm
deck: being/time_series
date: 2024-10-05
updated: 2025-03-15
toc: true
mathjax: true
---

平稳性
  + 存在某种周期、季节性及趋势的方差和均值不随时间变化

  + 从统计学角度，平稳性要求对于一个时间序列的取值满足一个确定的分布

平稳性是时间序列分析的基础
  + 如果一个时间序列是不平稳的，需要通过 {{c1 差分}} 的方式将其转化为平稳时间序列。
严平稳 strictly stationary

  + 时间序列中任意给定长度的两段子序列都满足相同的联合分布

弱平稳 weakly stationary

  + 时间序列满足均值平稳性 stationary in mean 和二阶平稳性 secondary order stationary

  + 时间序列 $$r_t$$ 满足下面两个条件，则它是弱平稳的

    + 对所有时刻 t，有 $E[r_t] = \mu$，其中$\mu$是常数。
    + 对于所有时刻 t 和任意时间间隔 k，$r_t$ 和 $r_{t-k}$ 的协方差 $\sigma(r_t, r_{t-k}) =\gamma _k$, $\gamma _k$ 与 t 无关，仅依赖于时间间隔 k。

  + 方差平稳性 stationary in variance

    + 当 k=0  $\sigma(r_t, r_{t}) =\gamma _t$, $\gamma _t$ 是一个与时间 t 无关的常数且不随时间变化。

  + 关于 对所有时刻 t，有 $E[r_t] = \mu$，其中$\mu$是常数。
 的例子

    + 假设指数的日收益序列满足弱平稳条件，对于某一天指数日收益的期望可以用前一段时间的收益期望来近似估计。

  + 平稳的随机过程 stationary stochastic process

非平稳性

  + 非平平稳数据会导致虚假回归，表现为两个没有任务因果关系的变量，却有很高的相关性

[[ADF 检验]] :<- 判断时间序列是否满足平稳性要求
  + 特殊时间序列

    + 时间序列 ${w_t, t=[1,n]}$，$w_t$ 满足均值 0 方差为 $\sigma^2$([[正态分布]])，且对于任意的 k>0，[[自相关]]系数均为 0，则称该时间序列为一个离散的白噪声。

      + $X_t=w_t, w_t\left(0, \sigma^2\right)$

    + 时间序列 $x_t$，满足 $x_t=x_{t-1}+w_t$ ，$w_t$ 是一个均值 0 方差为 $\sigma^2$ 的白噪声，则序列 $x_t$ 为一个随机游走。

      + $X_t=X_{t-1}+w_t, X_t\left(0, t \sigma^2\right)$

  + 思想

    + 基于随机游走，对 Xt 回归，如果发现 p=1，说明该序列满足随机游走，就是非平稳的。

      + $\rho_k=\frac{\operatorname{Cov}\left(r_t, r_{t-k}\right)}{\sigma_{r_t} \sigma_{r_{t-k}}}=\frac{\operatorname{Cov}\left(r_t, r_{t-k}\right)}{\sigma_{r_t} \sigma_{r_t}}=\frac{\gamma_k}{\gamma_0}$，利用弱平稳的性质

      + $X_t=X_{t-1}+u_t$ 随机游走，非平稳

      + $X_t=p X_{t-1}+u_t$ 如果 p=1，则 Xt有一个单位根

  + `from statsmodels.tsa.stattools import adfuller as ADF`

    + ADF 函数计算结果

      + 第一个参数 T检验，假设检验值。

      + 第二个参数，P-value，假设检验结果。

      + 第五个参数，不同程度拒绝原假设的统计值

  + 如何判断是否平稳

    + ADF 假设检验值同时小于 1% 5% 10% 不同程度拒绝原假设的统计值，说明非常好地拒绝该假设

      + 原假设存在单位根

      + 统计值小于 1%，认为拒绝原假设，该序列是平稳的。

    + [[P-value]] 是否非常接近 0

Ref

  + [写给你的金融时间序列分析：基础篇 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/38320827)
